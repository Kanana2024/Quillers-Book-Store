{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Checkout - Quillers</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background:#f8f9fa;font-family: 'Poppins', sans-serif; margin:0; }

        header {
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            padding: 1rem 0;
        }

        .nav-container {
            max-width:1200px;
            margin:auto;
            display:flex;
            justify-content:space-between;
            align-items:center;
            padding:0 20px;
        }

        .logo {
            color:white;
            text-decoration:none;
            font-size:1.3rem;
            font-weight:700;
        }

        nav ul {
            list-style:none;
            display:flex;
            gap:20px;
        }

        nav ul li a {
            color:white;
            text-decoration:none;
            font-size:0.95rem;
        }
        .container{
            width: 80%;
            margin: 50px auto;
        }
        .checkoutbox{
            display: flex;
        }
        .checkleft{
            flex-basis: 55%;
            padding: 40px 60px;
        }
        .checkright{
            flex-basis: 45%;
            padding: 40px;
            margin-top: 90px;
        }
        .text-card{
                background-color: white;
                padding: 20px;
        }
    </style>
</head>
<body>

<header>
    <div class="nav-container">
        <a href="{% url 'home' %}" class="logo">
            <i class="fas fa-book-open"></i> Quillers Book Store
        </a>
        <nav>
            <ul>
                <li><a href="{% url 'home' %}"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="{% url 'about' %}"><i class="fas fa-info-circle"></i>About</a></li>
                <li><a href="{% url 'books' %}"><i class="fas fa-book"></i> Books</a></li>
                <li><a href="{% url 'authors' %}"><i class="fas fa-pen-fancy"></i> Authors</a></li>
            </ul>
        </nav>
    </div>
</header>
    <div class="container">
        <div class="checkoutbox">

            <div class="checkleft">
                <h2 style="color:#1e3a8a;">Checkout</h2>
                <div style="display:flex;max-width:490px; justify-content:space-between; font-weight:700; color:#1e3a8a; padding-top:15px; border-top:2px solid #1e3a8a; margin-top:15px;"></div>
                <form method="POST">
        
        <h3 style="color:#1e3a8a;">Delivery</h5>
        <div style="margin-top:15px;">
            <label>Delivery Location</label>
            <input type="text" name="delivery_address" required style="width:80%; padding:10px; border-radius:6px; border:1px solid #cbd5e1;">
        </div>
        <h3 style="color:#1e3a8a; margin-bottom: 10px;">Payment</h5>
        <p style="font-size: 13px;color:gray;">All transactions are secured and encrypted.</p>
        <div class="text-card" style="line-height: 1.2;">
            <p>Pay now via Mpesa Paybill</p>
            <p>Go to Lipa na M-Pesa Paybill</p>
            <p>Enter Business number 629531</p>
            <p>Enter Account number 5899180 (KCB Paybill Acc for Quillers BookStore)</p>
            <p>Enter the total amount ( including delivery Ksh 190)</p>
            <p>IMPORTANT : After payment, you must press “Place Order” below and wait for order to go through.</p>
        </div>
        <button type="submit"
                style="width:100%; margin-top:25px; padding:12px; border:none; border-radius:50px;
                       background:#1e3a8a; color:white; font-weight:600;">
            Place Order
        </button>
    </form>
            </div>
            <div class="checkright">
                <span>Total</span>
                <div style="display:flex; justify-content:space-between; font-weight:700; color:#1e3a8a; padding-top:15px; border-top:2px solid #1e3a8a; margin-top:15px;">          
                    <div class="order-summary">
                    {% for item in cart_items %}
                        <div class="summary-row">
                            <span>{{ item.book.booktitle }} × {{ item.quantity }}</span>
                            <span>KSh {{ item.subtotal }}</span>
                        </div>
                    {% endfor %}
                    <span>KSh {{ total }}</span>
                </div>
            </div>
        </div>
    </div>

</body>
</html>
